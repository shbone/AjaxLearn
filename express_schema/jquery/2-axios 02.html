<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="Axios请求" />
    <title>Axios 请求</title>
    <!-- <link crossorigin="anonymous" href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.2.3/css/bootstrap-grid.css" rel="stylesheet"> -->
    <!-- 按钮样式 -->
    <!-- <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">   -->
	<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
	<!-- <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script> -->
    <script src="https://cdn.bootcdn.net/ajax/libs/axios/1.3.2/axios.min.js"></script>
    <style>
        #result{
            width: 200px;
            height: 100px;
            border: solid 2px rgb(230, 156, 246);
        }
    </style>
</head>
 
<body>
    <h2 class="page-header"> 向ajax发送请求</h2>
    <button class="btn btn-primary"> GET</button>
    <button class="btn btn-danger"> POST</button>
    <button class="btn btn-info">通用方法</button>
    <button class="btn " >清空输出</button>
    <div id="output">
        <textarea id="textoutput" placeholder="输出答案"></textarea>
    </div>
    
    
    
</body>
<script>
    const btn =document.querySelectorAll('button');
    // $(btn).eq(0).click(
    //     function(){
    //         axios({
    //             method
    //         })
    //     }
    // )
    let result = document.getElementById('textoutput');
    axios.defaults.baseURL ='http://127.0.0.1:8000';
    btn[0].onclick = function(){
        axios({
            //请求方法
            method:'post',
            //url
            url:'/axios-server',
            // 请求头
            headers:{
                a:"100",
                b:"200"
            },
            data:{
                'username':'shb',
                'passwd':'root'
            }
            
        }).then(response=>{
            console.log(response);
            console.log(response.data);
            result.innerText=JSON.stringify(response.data);

        })
    }
    

    btn[3].onclick = function(){
        document.getElementById("textoutput").value="";
    }
    
    $('button').eq(2).click(
        function(){
            axios({
            //url
            url:'/axios-server',
            //method
            method:'POST',
            //params
            params:{
                a:100,
                b:300
            },
            headers:{
                vip:10,
                level:100
            },
            data:{
                user:"shb",
                passwd:"root"
            }
        }).then(response =>{
            console.log(response);
        })
        }
        
    )
</script>
</html>