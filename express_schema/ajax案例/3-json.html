<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewpoint" />
    <title>AJAX json请求</title>
    <style>
        #result{
            width: 200px;
            height: 100px;
            border: solid 2px rgb(230, 156, 246);
        }
    </style>
</head>
 
<body>
    <button> 点击发送</button>
    <div id="result"></div>
    
</body>
<script>
    const result = document.getElementById('result');
    //绑定键盘按下事件
    window.onkeydown=function(){
        console.log('press key')

    }
    
    const btn = document.getElementsByTagName('button')[0];
    console.log(btn)
    btn.onclick= function(){
        const xhr = new XMLHttpRequest();
        xhr.responseType ='json'
        xhr.open('get','http://localhost:8000/server-post')
        // 请求头
        xhr.send('a=1&b=2')
        xhr.onreadystatechange=function(){
        if( xhr.readyState === 4){

            if (xhr.status >=200 && xhr.status<300){
                console.log("json:",xhr.response);

                //手动对json数据化
                // let data = JSON.parse(xhr.response)
                // result.innerText = data.name;
                // 自动定义response格式
                result.innerHTML = xhr.response.name;
            }
        }else{

        }
        console.log(result.innerHTML)
        console.log(response)
    }
    }
    
</script>
</html>